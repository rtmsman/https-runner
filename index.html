<!DOCTYPE html>
<html>
  <head></head>
  <body>
    <script>
      {
        let params = new URLSearchParams(window.location.search).get('html');
        if(params) {
          function atou(string) {
            let base71 = [,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,1,2,3,4,,,5,6,,7,8,9,10,11,12,13,14,15,16,,,,,,,,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,,,,,43,,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,,,,70];
            let result = [];
    
            let zeros = 0;
    
            while(zeros < string.length && string[zeros] === '!') { zeros++; };
    
            for(let i = zeros; i < string.length; i++) {
              let carry = base71[string.charCodeAt(i)];
              for(let j = result.length-1; j >= 0; j--) {
                let d = result[j];
                let p = (d << 6) + (d << 3) - d + carry; result[j] = p & 0xFF;
                
                carry = p >>> 8;
              }
    
              if(carry) {
                result.unshift(carry);
              }
            }
    
            return Array(zeros).fill(0).concat(result);
          }

          document.documentElement.innerHTML = '';
          document.open();
          document.write(atou(params).map(q => String.fromCharCode(q)).join(''));
          document.close();
        } else {
          var utoa = function(array) {
    				let base71 = `!'()*-.0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~`, zeros = 0, start, result = '', remainder, q, i;
    
    				while(zeros < array.length && !array[zeros]) { zeros++; };
    
    				start = zeros;
    
    				while(start < array.length) {
    					remainder = 0;
    					for(i = start; i < array.length; i++) {
    						remainder = remainder << 8 | array[i];
    
    						q = Math.imul(remainder, 14769) >>> 20; array[i] = q;
    						remainder -= (q << 6) + (q << 3) - q;
    
    						if(!q && i === start) { start++; };
    					}
    
    					result = base71[remainder] + result;
    				}
    
    				return '!'.repeat(zeros)+result;
    			}

          var fr = new FileReader;
          fr.onload = function() {
            let url = new URL(window.location.href);
            url.searchParams.set('html', utoa(new Uint8Array(fr.result)));
            window.location.href = url.href;
          }

          document.head.innerHTML = `<style>body{background-color:black}input{color:white}</style>`;
          document.body.innerHTML = `<input type="file" onchange="fr.readAsArrayBuffer(this.files[0])">`;
        }
      }
    </script>
  </body>
</html>
